tags:: exploration
template:: exploration

- Desde marzo de 2020, yo y un grupo de compañeros producimos [[Datasets abiertos sobre covid-19 en Bolivia]]. Uno de éstos es el dataset de casos por departamento, que procesamos desde reportes de la Unidad de Análisis de Políticas Sociales y Económicas (UDAPE).
	- UDAPE publica datasets diarios y acumulados de casos confirmados, activos, recuperados y fallecidos. Muchos de estos datasets parecen redundantes cuando consideras que `casos activos` = `casos confirmados` - `casos recuperados` - `casos fallecidos`, o que `casos confirmados acumulados` son las suma acumulativa de `casos confirmados diarios`.
	- Sin embargo, estas operaciones simples no coinciden con lo que UDAPE publica. Cada uno de estos datasets parece ser producido independientemente. Comparando las diferencias entre datos diarios y acumulados con reportes de prensa, la mejor explicación es que cambios retroactivos sólo son integrados en datasets acumulados, en particular cuando UDAPE no puede ubicar en qué fecha exactamente ocurren.
	- El cambio más notorio es el salto en decesos reportado el 6 de septiembre de 2020 en Santa Cruz. Este salto, de 1593 casos, sólo es registrado en el dataset de decesos acumulados, mientras que el dataset diario sólo muestra 23.
- Desde el cuarto trimestre de 2020, UDAPE publicaba (casi) diariamente un PDF del cual extraíamos datos de manera automática via github actions. Sin embargo, luego del 29 de Junio de 2022 decidieron cambiar este sistema por un [tablero interactivo en google datastudio](https://datastudio.google.com/u/0/reporting/92796894-acf3-4ab7-9395-20655de351f7).
- Hace unos días escribí código para consumir datos de esta nueva fuente, y fue una sorpresa encontrar que muchos datos eran distintos de cómo se encontraban en los últimos reportes en PDF. En base a la experiencia que teníamos con datos de UDAPE, decidimos que lo más razonable era sólo integrar revisiones en datasets acumulados, e ignorar aquellas en datasets diarios.
- Sin embargo, esta decisión no me deja tranquilo. Cómo realmente produce UDAPE cada dataset? qué fuentes considera y cómo decide qué valores integrar en qué dataset? las variaciones entre los datos de ambos sistemas de reporte son actualizaciones o errores? cómo deberíamos lidiar con estas y otras posibles variaciones retroactivas en datasets de UDAPE?
	- LATER Debo insistir en ponerme en contacto con alguien en UDAPE para realizar estas consultas.
	- Una primera pregunta es cuán comunes son revisiones en estos datasets. Tengo snapshots de esta base datos cada día desde finales de 2020, y podría resolver esta pregunta fácilmente.
		- Comencé a explorar esta pregunta en [este proyecto](https://github.com/mauforonda/workshop/tree/master/20220712_covid19bo_udape). Comparo series de tiempo entre las ~466 actualizaciones que se realizaron a cada dataset hasta el [[Jul 12th, 2022]] e identifico revisiones importantes. A primera vista, las únicas revisiones significativas son las que ocurren con el cambio de sistema al final de junio de 2022, en particular para datasets acumulados.
			- ![Actualizaciones en el dataset de decesos acumulados](https://imgz.org/i6Vf8GxM-1280.png) Más gráficos y código están [en el repositorio](https://github.com/mauforonda/workshop/tree/master/20220712_covid19bo_udape/data).